!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/",n(n.s=0)}([function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.firstPageInPagingFrame=1,this.onClickEnterInSearch=null,this.switchToNextPage=null,this.swipeStart=null,this.swipeEnd=null,this.openVideo=null}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"pageLoad",value:function(){var e=this.element.document.createDocumentFragment(),t=this.element.document.createElement("div"),n=this.element.document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","input-text"),n.className="searcher-input",n.onkeyup=this.onClickEnterInSearch,t.appendChild(n),e.appendChild(t);var i=this.element.document.createElement("div");i.className="videos-container",i.id="videos",e.appendChild(i);var s=this.element.document.createElement("div");s.className="navigation-dots",s.id="dots",e.appendChild(s),this.element.document.body.appendChild(e)}},{key:"render",value:function(e,t,n){var i=this;var s=this.element.document.getElementById("videos");s.style.setProperty("--i","0"),s.innerHTML="";for(var a=function(t){var n=i.element.document.createElement("div");n.className="video-section",n.id="".concat(t);var a=i.element.document.createElement("img");a.setAttribute("src","".concat(e[t].thumbnails)),a.setAttribute("alt","video thumbnail"),n.appendChild(a),a.style.width="300px",a.style.height="200px",n.style.height="100%";var r=i.element.document.createElement("div");r.className="video-title",r.addEventListener("mousedown",function(){!function(e){window.open("https://www.youtube.com/watch?v=".concat(e),"_blank")}(e[t].id)}),r.innerHTML="<p>".concat(e[t].title,"</p>"),n.appendChild(r);var o=i.element.document.createElement("div");o.className="video-description",o.innerHTML="<p>".concat(e[t].description,"</p>"),n.appendChild(o),i.element.document.createElement("div").className="video-description";var d=i.element.document.createElement("div");d.className="video-description",d.innerHTML="<p>".concat(e[t].publishedAt,"</p>"),n.appendChild(d),i.element.document.createElement("div").className="video-description",s.appendChild(n)},r=0;r<e.length;r+=1)a(r);var o=this.element.document.getElementById("dots");o.innerHTML="";var d=this.element.document.createElement("span");d.className="dot",d.innerHTML="<span>&#60</span>",1===t?d.style.background="grey":d.onclick=this.switchToNextPage,o.appendChild(d);var c=1;t>n+this.firstPageInPagingFrame-1&&(this.firstPageInPagingFrame+=1,c=this.firstPageInPagingFrame),t<this.firstPageInPagingFrame&&(this.firstPageInPagingFrame=t),t<this.firstPageInPagingFrame+n&&(c=this.firstPageInPagingFrame);for(r=c;r<c+n;r+=1)(d=this.element.document.createElement("span")).className="dot",d.title=t,r===t&&(d.className="dot dot-active"),d.innerHTML="<span>".concat(r,"</span>"),d.onclick=this.switchToNextPage,o.appendChild(d);(d=this.element.document.createElement("span")).className="dot",d.innerHTML="<span>&#62</span>",d.onclick=this.switchToNextPage,o.appendChild(d),this.element.document.getElementById("videos").addEventListener("mousedown",this.swipeStart),this.element.document.getElementById("videos").addEventListener("touchstart",this.swipeStart,!1),this.element.document.getElementById("videos").addEventListener("mousedown",function(e){e.preventDefault()}),this.element.document.getElementById("videos").addEventListener("touchmove",function(e){e.preventDefault()},!1),this.element.document.getElementById("videos").addEventListener("mouseup",this.swipeEnd),this.element.document.getElementById("videos").addEventListener("touchend",this.swipeEnd,!0)}}]),e}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.XMLHttpRequest=t,this.videos=[],this.nextPageToken=""}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getVideoArray",value:function(e,t,n,i){var s="";if(this.videos.length-n*i<5&&(s=this.nextPageToken),""!==e||""!==s){var a=new this.XMLHttpRequest;if(a.open("GET","https://www.googleapis.com/youtube/v3/search?pageToken=".concat(s,"&key=AIzaSyBWtxPSToPQnHGveWXFkzYD1ICAh8XJeV4&type=video&part=snippet&maxResults=15&q=").concat(e),!1),a.send(),200!==a.status)throw new Error(a.status.concat(a.statusText));var r=JSON.parse(a.responseText);""!==s?(this.videos=this.videos.concat(r.items),this.nextPageToken=r.nextPageToken):(this.videos=r.items,this.nextPageToken=r.nextPageToken)}t(this.videos.slice((i-1)*n,i*n))}},{key:"getNextVideoArray",value:function(e,t,n,i){var s=new this.XMLHttpRequest;if(s.open("GET","https://www.googleapis.com/youtube/v3/search?pageToken=".concat(this.nextPageToken,"&key=AIzaSyBWtxPSToPQnHGveWXFkzYD1ICAh8XJeV4&type=video&part=snippet&maxResults=15&q=").concat(e),!1),s.send(),200!==s.status)alert(s.status+": "+s.statusText);else JSON.parse(s.responseText);t(this.videos.slice((i-1)*n,i*n))}}]),e}();function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageView=t,this.pageModel=n,this.videoPerPage=4,this.searchStr="",this.currentPage=1,this.numberOfPagingDots=2,this.x0=null}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"initialize",value:function(){this.pageView.onClickEnterInSearch=this.onClickEnterInSearch.bind(this),this.showVideos=this.showVideos.bind(this),this.measureWindowSize=this.measureWindowSize.bind(this),this.redrawOnResize=this.redrawOnResize.bind(this),this.pageView.swipeStart=this.swipeStart.bind(this),this.pageView.swipeEnd=this.swipeEnd.bind(this),this.pageView.switchToNextPage=this.switchToNextPage.bind(this),this.pageView.pageLoad()}},{key:"onClickEnterInSearch",value:function(e){this.measureWindowSize(),this.searchStr=document.getElementById("input-text").value,13===e.keyCode&&this.pageModel.getVideoArray(this.searchStr,this.showVideos.bind(this),this.videoPerPage,this.currentPage)}},{key:"showVideos",value:function(e){var t=[],n=0;e.forEach(function(e){console.log(e),t[n]={},t[n].thumbnails=e.snippet.thumbnails.medium.url,t[n].title=e.snippet.title,t[n].description=e.snippet.description,t[n].publishedAt=e.snippet.publishedAt,t[n].id=e.id.videoId,n+=1}),this.pageView.render(t,this.currentPage,this.numberOfPagingDots)}},{key:"measureWindowSize",value:function(){var e=document.documentElement.clientWidth;this.videoPerPage=4,this.numberOfPagingDots=2,e<1200&&(this.videoPerPage=3,this.numberOfPagingDots=3),e<900&&(this.videoPerPage=2,this.numberOfPagingDots=4),e<600&&(this.videoPerPage=1)}},{key:"redrawOnResize",value:function(){this.measureWindowSize(),this.pageModel.getVideoArray("",this.showVideos.bind(this),this.videoPerPage,this.currentPage)}},{key:"switchToNextPage",value:function(e){">"===e.target.innerText&&(this.currentPage+=1),"<"===e.target.innerText&&(this.currentPage-=1),">"!==e.target.innerText&&"<"!==e.target.innerText&&(this.currentPage=+e.target.innerText),this.pageModel.getVideoArray("",this.showVideos.bind(this),this.videoPerPage,this.currentPage)}},{key:"swipeStart",value:function(e){this.x0=e.clientX}},{key:"swipeEnd",value:function(e){this.x0-e.clientX>0?1!==this.currentPage&&(document.getElementById("videos").style.setProperty("--i","100%"),this.currentPage-=1,this.pageModel.getVideoArray("",this.showVideos.bind(this),this.videoPerPage,this.currentPage)):(document.getElementById("videos").style.setProperty("--i","-100%"),this.currentPage+=1,this.pageModel.getVideoArray("",this.showVideos.bind(this),this.videoPerPage,this.currentPage)),this.x0=null}}],[{key:"unify",value:function(e){return e.changedTouches?e.changedTouches[0]:e}}]),e}(),c=new r(XMLHttpRequest),u=new d(new s(window),c);window.onload=u.initialize(),window.addEventListener("resize",u.redrawOnResize)}]);
//# sourceMappingURL=main.js.map